import{c as l,r,j as t}from"./index-Cos0Ga36.js";import{u as x,F as b,a as f,b as k,f as j,d as y,I as g,E as N,c as F}from"./input-DNrJn22j.js";import{B as i}from"./button-BpZ6UUwc.js";import{a as S}from"./githubApiStore-D8e3-Ctp.js";import"./cn-Chsm3e16.js";import"./react-BR5ReH7I.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8.5 14 7-4",key:"12hpby"}],["path",{d:"m8.5 10 7 4",key:"wwy2dy"}]],C=l("SquareAsterisk",v);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],V=l("Square",I);function A(){const{githubToken:u,setGithubToken:n,clearGithubToken:o}=S(),[a,c]=r.useState(!1),e=x({defaultValues:{input:""}}),m=r.useCallback(({input:s})=>{n(s.trim()),e.setValue("input","")},[e,n]),p=r.useCallback(()=>{c(!a)},[a]),h=r.useCallback(()=>{o(),e.setValue("input",""),e.setFocus("input")},[o,e]),d=r.useCallback(s=>{s.target.value=s.target.value.trim(),e.clearErrors("input")},[e]);return t.jsx(t.Fragment,{children:t.jsx(b,{...e,children:t.jsx("form",{onSubmit:e.handleSubmit(m),className:"space-y-4",children:t.jsx(f,{control:e.control,name:"input",render:({field:s})=>t.jsxs(k,{children:[t.jsx(j,{className:"text-xl font-bold",htmlFor:"input",children:"Enter your GitHub Token"}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(y,{className:"flex-1",defaultValue:u??"",children:t.jsx(g,{id:"input","aria-label":"Github Token input",type:a?"text":"password",className:"transition-all text-xs md:text-sm",placeholder:"github_pat_0123456789asdfghjkl...",...s,onInput:d})}),t.jsx(i,{type:"button","aria-label":"Reset input",variant:"ghost",className:"!px-2",onClick:h,children:t.jsx(N,{className:"size-6"})}),t.jsx(i,{type:"button","aria-label":a?"Hide input":"Show input",variant:"ghost",className:"!px-2",onClick:p,children:a?t.jsx(V,{className:"size-6"}):t.jsx(C,{className:"size-6"})})]}),t.jsxs(F,{children:["Required for"," ",t.jsx("a",{href:"https://docs.github.com/rest/using-the-rest-api/rate-limits-for-the-rest-api?apiVersion=2022-11-28#primary-rate-limit-for-unauthenticated-users",target:"_blank",rel:"noreferrer",className:"underline",children:"rate limit for the GitHub API"})]}),t.jsx(i,{variant:"secondary",type:"submit",children:"Save"})]})})})})})}export{A as default};
